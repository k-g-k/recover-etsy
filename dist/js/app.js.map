{"version":3,"sources":["app.js","etsy-api.js","show-listings-page.js","show-page-not-found.js","show-profile-page.js","init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["// The namespace for this application\n//define any globals that need access to our scripts\nvar app = {\n  router: Rlite()\n};\n","app.EtsyApi = function (spec) {\n  // Displays Error message if no API is found\n  if (!spec.apiKey) {\n    throw new Error('An API key is required!');\n  }\n\n  var baseUrl = 'https://openapi.etsy.com/' + (spec.apiVersion || 'v2');\n\n  function fetchUrl(url) {\n    var promise = $.Deferred();\n\n    var req = $.getJSON(url).done(function (data) {\n      if (!data.ok) {\n        // Keep our rejection in line with the standard jQuery\n        // rejection, passing req as first argument, status as second\n        // and error object as the third\n        promise.reject(req, 'Unknown error', data);\n      } else {\n        promise.resolve(data);\n      }\n    });\n\n    return promise;\n  }\n\n  var self = {\n    listings: function () {\n      var url = baseUrl + '/listings/active.js?includes=MainImage&api_key=' + spec.apiKey + '&callback=?';\n      return fetchUrl(url);\n    },\n\n    userDetail: function (userId) {\n      // users/:user_id/profile\n      var url = baseUrl + '/users/' + userId + '/profile.js?includes=MainImage&api_key=' + spec.apiKey + '&callback=?';\n      return fetchUrl(url);\n    }\n  };\n\n  return self;\n};\n","app.router.add('', function () {\n  // Here, put logic that will display your\n  // Etsy listings...\n  var api = app.EtsyApi({ apiKey: 'y6twc9lq8w4rbpixvult61ti' });\n  var listTemplate = _.template($('#etsyList').html(), { variable: 'm' });\n\n  api.listings()\n  .done(function (data) {\n    // Let's put the data in the console so we can\n    // explore it...\n    console.log(data);\n    $('.main-content').html(listTemplate({ items: data.results }));\n  })\n  .fail(function (req, status, err) {\n    console.log(err);\n    $('.main-content').text(err.error);\n  });\n});\n","app.pageNotFound = function () {\n  $('.main-content').html('<h1>404 Not Found!</h1>');\n};\n","app.router.add('profiles/:userId', function (url) {\n  // Here, put logic that will display your\n  // Etsy listings...\n  var api = app.EtsyApi({ apiKey: 'y6twc9lq8w4rbpixvult61ti' });\n  var profileTemplate = _.template($('#etsyProfile').html(), { variable: 'm' });\n\n  api.userDetail(url.params.userId)\n  .done(function (data) {\n    // Let's put the data in the console so we can\n    // explore it...\n    console.log(data);\n    $('.main-content').html(profileTemplate(data.results[0]));\n  })\n  .fail(function (req, status, err) {\n    console.log(err);\n    $('.main-content').html(err.error);\n  });\n});\n","// initializing the application, sets up the hash listener\n// sets up hash watching\n(function(){\n\n  function processHash() {\n                //location is url, and this is standard js\n    var hash = location.hash || '#';\n        //this is what makes the router run\n    if (!app.router.run(hash.slice(1))) {\n      app.pageNotFound();\n    }\n  }\n\n  window.addEventListener('hashchange', processHash);\n  processHash();\n\n})();\n"],"sourceRoot":"/source/"}